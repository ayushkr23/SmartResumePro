<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="app.controller.WizardController">
   <top>
      <!-- Navigation Header -->
      <VBox styleClass="nav-container">
         <HBox fx:id="navigationContainer" alignment="CENTER_LEFT" spacing="24.0">
            <Label fx:id="stepLabel" text="Step 1 of 6" styleClass="label-heading" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="backButton" text="← Previous" onAction="#handleBack" styleClass="button-secondary" />
            <Button fx:id="nextButton" text="Next →" onAction="#handleNext" styleClass="button, button-success" />
         </HBox>
         
         <!-- Progress Bar -->
         <ProgressBar fx:id="progressBar" progress="0.16" maxWidth="Infinity" styleClass="progress-bar" />
         
         <!-- Step Indicators -->
         <HBox fx:id="stepIndicators" alignment="CENTER" spacing="16.0" styleClass="progress-indicator">
            <!-- Populated dynamically -->
         </HBox>
      </VBox>
   </top>
   
   <center>
      <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="scroll-pane">
         <content>
            <VBox fx:id="wizardContainer" spacing="0" styleClass="container">
               
               <!-- Step 1: Personal Information -->
               <VBox fx:id="step1Container" spacing="24.0" styleClass="form-section">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="👤 Personal Information" styleClass="label-title" />
                     <Label text="Let's start with your basic contact information and online profiles" 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <VBox spacing="20.0" maxWidth="600" alignment="CENTER">
                     <!-- Name and Email Row -->
                     <HBox spacing="16.0" styleClass="form-row">
                        <VBox spacing="8.0" styleClass="form-group" HBox.hgrow="ALWAYS">
                           <Label text="Full Name *" styleClass="label" />
                           <TextField fx:id="fullNameField" promptText="Enter your full name" styleClass="text-field" />
                        </VBox>
                        <VBox spacing="8.0" styleClass="form-group" HBox.hgrow="ALWAYS">
                           <Label text="Email Address *" styleClass="label" />
                           <TextField fx:id="emailField" promptText="your.email@example.com" styleClass="text-field" />
                        </VBox>
                     </HBox>
                     
                     <!-- Phone and Address -->
                     <VBox spacing="8.0" styleClass="form-group">
                        <Label text="Phone Number" styleClass="label" />
                        <TextField fx:id="phoneField" promptText="+91 XXXXX XXXXX" styleClass="text-field" />
                     </VBox>
                     
                     <VBox spacing="8.0" styleClass="form-group">
                        <Label text="Address" styleClass="label" />
                        <TextArea fx:id="addressField" promptText="City, State, Country" prefRowCount="2" styleClass="text-area" />
                     </VBox>
                     
                     <!-- Social Profiles -->
                     <Separator />
                     <Label text="🔗 Professional Profiles (Optional)" styleClass="label-subheading" />
                     
                     <VBox spacing="8.0" styleClass="form-group">
                        <Label text="LinkedIn Profile URL" styleClass="label" />
                        <TextField fx:id="linkedinField" promptText="https://linkedin.com/in/yourprofile" styleClass="text-field" />
                     </VBox>
                     
                     <VBox spacing="8.0" styleClass="form-group">
                        <Label text="GitHub Profile URL" styleClass="label" />
                        <TextField fx:id="githubField" promptText="https://github.com/yourusername" styleClass="text-field" />
                     </VBox>
                     
                     <VBox spacing="8.0" styleClass="form-group">
                        <Label text="Portfolio Website" styleClass="label" />
                        <TextField fx:id="portfolioField" promptText="https://yourportfolio.com" styleClass="text-field" />
                     </VBox>
                  </VBox>
               </VBox>
               
               <!-- Step 2: Education -->
               <VBox fx:id="step2Container" spacing="24.0" styleClass="form-section" visible="false" managed="false">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="🎓 Education" styleClass="label-title" />
                     <Label text="Add your educational background, starting with the most recent" 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <VBox spacing="20.0" maxWidth="700" alignment="CENTER">
                     <HBox alignment="CENTER" spacing="16.0">
                        <Button fx:id="addEducationButton" text="+ Add Education" onAction="#addEducation" 
                               styleClass="button, button-success" />
                        <Label text="Add at least one education entry" styleClass="label-muted" />
                     </HBox>
                     
                     <VBox fx:id="educationContainer" spacing="16.0">
                        <!-- Education entries will be added dynamically -->
                     </VBox>
                  </VBox>
               </VBox>
               
               <!-- Step 3: Skills -->
               <VBox fx:id="step3Container" spacing="24.0" styleClass="form-section" visible="false" managed="false">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="⚡ Skills & Expertise" styleClass="label-title" />
                     <Label text="Showcase your technical and soft skills. We'll suggest relevant skills based on your chosen career path." 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <HBox spacing="32.0" alignment="CENTER">
                     <!-- Left Side - Skill Input -->
                     <VBox spacing="20.0" prefWidth="350">
                        <VBox spacing="12.0" styleClass="skill-input-container">
                           <HBox spacing="12.0" alignment="CENTER_LEFT">
                              <ComboBox fx:id="skillCategoryCombo" prefWidth="150" />
                              <TextField fx:id="skillInput" promptText="Enter a skill and press Enter" 
                                        HBox.hgrow="ALWAYS" styleClass="text-field" />
                           </HBox>
                           <Button text="Add Skill" onAction="#addSkill" styleClass="button-secondary" maxWidth="Infinity" />
                        </VBox>
                        
                        <!-- Technical Skills -->
                        <VBox spacing="12.0">
                           <Label text="💻 Technical Skills" styleClass="label-subheading" />
                           <FlowPane fx:id="technicalSkillsPane" hgap="8.0" vgap="8.0" />
                        </VBox>
                        
                        <!-- Soft Skills -->
                        <VBox spacing="12.0">
                           <Label text="🤝 Soft Skills" styleClass="label-subheading" />
                           <FlowPane fx:id="softSkillsPane" hgap="8.0" vgap="8.0" />
                        </VBox>
                     </VBox>
                     
                     <!-- Right Side - Suggested Skills -->
                     <VBox fx:id="suggestedSkillsContainer" spacing="16.0" prefWidth="350" styleClass="card">
                        <!-- Populated based on selected role -->
                     </VBox>
                  </HBox>
               </VBox>
               
               <!-- Step 4: Experience -->
               <VBox fx:id="step4Container" spacing="24.0" styleClass="form-section" visible="false" managed="false">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="💼 Work Experience" styleClass="label-title" />
                     <Label text="Add your work experience, internships, and relevant positions. This section is optional but recommended." 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <VBox spacing="20.0" maxWidth="700" alignment="CENTER">
                     <HBox alignment="CENTER" spacing="16.0">
                        <Button fx:id="addExperienceButton" text="+ Add Experience" onAction="#addExperience" 
                               styleClass="button, button-success" />
                        <Label text="Include internships, part-time jobs, and volunteer work" styleClass="label-muted" />
                     </HBox>
                     
                     <VBox fx:id="experienceContainer" spacing="16.0">
                        <!-- Experience entries will be added dynamically -->
                     </VBox>
                     
                     <Label text="💡 Tip: Use action verbs and quantify your achievements where possible" 
                           styleClass="label-muted" textAlignment="CENTER" wrapText="true" maxWidth="400" />
                  </VBox>
               </VBox>
               
               <!-- Step 5: Projects -->
               <VBox fx:id="step5Container" spacing="24.0" styleClass="form-section" visible="false" managed="false">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="🚀 Projects" styleClass="label-title" />
                     <Label text="Showcase your personal projects, hackathons, coursework, and any technical work you've done." 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <VBox spacing="20.0" maxWidth="700" alignment="CENTER">
                     <HBox alignment="CENTER" spacing="16.0">
                        <Button fx:id="addProjectButton" text="+ Add Project" onAction="#addProject" 
                               styleClass="button, button-success" />
                        <Label text="Include GitHub links and live demos when possible" styleClass="label-muted" />
                     </HBox>
                     
                     <VBox fx:id="projectsContainer" spacing="16.0">
                        <!-- Project entries will be added dynamically -->
                     </VBox>
                     
                     <Label text="💡 Tip: Focus on projects that demonstrate skills relevant to your target role" 
                           styleClass="label-muted" textAlignment="CENTER" wrapText="true" maxWidth="400" />
                  </VBox>
               </VBox>
               
               <!-- Step 6: Summary & Objective -->
               <VBox fx:id="step6Container" spacing="24.0" styleClass="form-section" visible="false" managed="false">
                  <VBox spacing="16.0" alignment="CENTER">
                     <Label text="📝 Career Summary & Objective" styleClass="label-title" />
                     <Label text="Craft a compelling summary that highlights your goals and key strengths." 
                            styleClass="label-subheading" textAlignment="CENTER" wrapText="true" maxWidth="500" />
                  </VBox>
                  
                  <HBox spacing="32.0" alignment="CENTER">
                     <!-- Left Side - Text Areas -->
                     <VBox spacing="20.0" prefWidth="400">
                        <VBox spacing="12.0" styleClass="form-group">
                           <Label text="Career Objective *" styleClass="label-subheading" />
                           <Label text="A brief statement about your career goals and what you're seeking" styleClass="label-muted" />
                           <TextArea fx:id="objectiveArea" prefRowCount="4" wrapText="true" 
                                    promptText="Write 2-3 sentences about your career goals and aspirations..."
                                    styleClass="text-area" />
                        </VBox>
                        
                        <VBox spacing="12.0" styleClass="form-group">
                           <Label text="Professional Summary (Optional)" styleClass="label-subheading" />
                           <Label text="A brief overview of your key skills and experiences" styleClass="label-muted" />
                           <TextArea fx:id="summaryArea" prefRowCount="3" wrapText="true" 
                                    promptText="Summarize your key qualifications and achievements..."
                                    styleClass="text-area" />
                        </VBox>
                        
                        <Button fx:id="generateSuggestionsButton" text="🤖 Generate AI Suggestions" 
                               onAction="#generateAISuggestions" styleClass="button, button-success" />
                     </VBox>
                     
                     <!-- Right Side - AI Suggestions -->
                     <VBox fx:id="aiSuggestionsContainer" spacing="16.0" prefWidth="350" styleClass="card">
                        <Label text="💡 Writing Tips" styleClass="label-subheading" />
                        <VBox spacing="12.0">
                           <Label text="• Start with strong action words (e.g., 'Aspiring', 'Motivated', 'Dedicated')" 
                                 styleClass="label-muted" wrapText="true" />
                           <Label text="• Mention your field of study and career interests" 
                                 styleClass="label-muted" wrapText="true" />
                           <Label text="• Highlight your key strengths and skills" 
                                 styleClass="label-muted" wrapText="true" />
                           <Label text="• Keep it concise and professional (2-3 sentences)" 
                                 styleClass="label-muted" wrapText="true" />
                           <Label text="• Customize for each job application" 
                                 styleClass="label-muted" wrapText="true" />
                        </VBox>
                     </VBox>
                  </HBox>
               </VBox>
               
            </VBox>
         </content>
      </ScrollPane>
   </center>
   
   <bottom>
      <!-- Footer with tips -->
      <VBox alignment="CENTER" spacing="8.0" styleClass="nav-container" style="-fx-border-width: 1 0 0 0;">
         <Label text="💡 You can always come back to edit any section before generating your final resume" 
                styleClass="label-muted" textAlignment="CENTER" />
         <Label text="All your progress is automatically saved as you go" 
                styleClass="label-muted" style="-fx-font-size: 10px;" textAlignment="CENTER" />
      </VBox>
   </bottom>
   
</BorderPane>